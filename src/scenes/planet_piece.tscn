[gd_scene load_steps=27 format=3 uid="uid://bovl5mukppx3n"]

[ext_resource type="Script" path="res://scripts/planet_piece.gd" id="1_jrwu8"]
[ext_resource type="Script" path="res://scripts/themesh.gd" id="2_neaqm"]
[ext_resource type="AudioStream" uid="uid://cpgjx21snc68b" path="res://audio/ufo-dropoff-one.ogg" id="3_ley4f"]
[ext_resource type="Script" path="res://scripts/DropOffSound.gd" id="4_wo60a"]
[ext_resource type="AudioStream" uid="uid://bm4qud3f67gve" path="res://audio/heavy-rock-drop-2.ogg" id="5_gn45x"]
[ext_resource type="AudioStream" uid="uid://dxtfgon063axy" path="res://audio/heavy-gas-drop.ogg" id="6_0oypa"]

[sub_resource type="Curve" id="Curve_wdrif"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.737864, 0.104294), 0.0, 0.0, 0, 0, Vector2(0.807443, 0.00613499), 0.0, 0.0, 0, 0, Vector2(0.839806, 0.257669), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_nx1bn"]
resource_local_to_scene = true
vertex_color_use_as_albedo = true
vertex_color_is_srgb = true
roughness = 0.79
emission = Color(0.813096, 0.883004, 0.71694, 1)

[sub_resource type="ArrayMesh" id="ArrayMesh_4ibd5"]
resource_local_to_scene = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_iyjmg"]
resource_local_to_scene = true
vertex_color_use_as_albedo = true
vertex_color_is_srgb = true
roughness = 0.94
emission = Color(0.813096, 0.883004, 0.71694, 1)
texture_filter = 0
grow_amount = -0.001
point_size = 2.6
distance_fade_mode = 2
distance_fade_max_distance = 0.3

[sub_resource type="ArrayMesh" id="ArrayMesh_ker4h"]
resource_local_to_scene = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_b5ptj"]
albedo_color = Color(0.282353, 0.372549, 0.882353, 1)

[sub_resource type="SphereMesh" id="SphereMesh_u1pd2"]
material = SubResource("StandardMaterial3D_b5ptj")
radius = 0.05
height = 0.1

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_15kp0"]
albedo_color = Color(0.788235, 0.164706, 0.160784, 1)

[sub_resource type="SphereMesh" id="SphereMesh_sox24"]
material = SubResource("StandardMaterial3D_15kp0")
radius = 0.05
height = 0.1

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ofrj5"]
resource_local_to_scene = true
vertex_color_use_as_albedo = true
vertex_color_is_srgb = true
roughness = 0.04
emission = Color(0.813096, 0.883004, 0.71694, 1)
rim = 0.28
rim_tint = 0.0
clearcoat = 0.0
anisotropy = -1.0
texture_filter = 0
texture_repeat = false

[sub_resource type="ArrayMesh" id="ArrayMesh_knalo"]

[sub_resource type="ArrayMesh" id="ArrayMesh_r2ohu"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2fggi"]

[sub_resource type="SphereMesh" id="SphereMesh_ip4f6"]
material = SubResource("StandardMaterial3D_2fggi")
radius = 0.05
height = 0.1

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_xrim5"]
albedo_color = Color(0.603922, 0.384314, 0.0509804, 1)

[sub_resource type="SphereMesh" id="SphereMesh_unyvo"]
material = SubResource("StandardMaterial3D_xrim5")
radius = 0.05
height = 0.1

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_pbyqv"]
albedo_color = Color(0.305882, 0.384314, 0.843137, 1)

[sub_resource type="SphereMesh" id="SphereMesh_p12ph"]
material = SubResource("StandardMaterial3D_pbyqv")
radius = 0.05
height = 0.1

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_du276"]
albedo_color = Color(0.231373, 0.572549, 0.207843, 1)

[sub_resource type="SphereMesh" id="SphereMesh_gl2kt"]
material = SubResource("StandardMaterial3D_du276")
radius = 0.05
height = 0.1

[node name="planet_piece" type="Node3D" groups=["pieces"]]
script = ExtResource("1_jrwu8")
placement_curve = SubResource("Curve_wdrif")

[node name="themesh" type="MeshInstance3D" parent="."]
layers = 9
material_overlay = SubResource("StandardMaterial3D_nx1bn")
mesh = SubResource("ArrayMesh_4ibd5")
script = ExtResource("2_neaqm")

[node name="walls" type="MeshInstance3D" parent="themesh"]
layers = 41
material_overlay = SubResource("StandardMaterial3D_iyjmg")
mesh = SubResource("ArrayMesh_ker4h")
skeleton = NodePath("../..")

[node name="fwd" type="MeshInstance3D" parent="themesh"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.5)
visible = false
mesh = SubResource("SphereMesh_u1pd2")
skeleton = NodePath("../..")

[node name="right" type="MeshInstance3D" parent="themesh"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 0, 0)
visible = false
mesh = SubResource("SphereMesh_sox24")
skeleton = NodePath("../..")

[node name="water" type="MeshInstance3D" parent="themesh"]
material_overlay = SubResource("StandardMaterial3D_ofrj5")
mesh = SubResource("ArrayMesh_knalo")

[node name="particle_points" type="MeshInstance3D" parent="themesh"]
mesh = SubResource("ArrayMesh_r2ohu")

[node name="upward" type="Node3D" parent="."]
visible = false

[node name="MeshInstance3D" type="MeshInstance3D" parent="upward"]
mesh = SubResource("SphereMesh_ip4f6")
skeleton = NodePath("../..")

[node name="inward" type="Node3D" parent="."]
visible = false

[node name="MeshInstance3D2" type="MeshInstance3D" parent="inward"]
mesh = SubResource("SphereMesh_unyvo")
skeleton = NodePath("../..")

[node name="zbasis" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.584741)
visible = false

[node name="MeshInstance3D2" type="MeshInstance3D" parent="zbasis"]
mesh = SubResource("SphereMesh_p12ph")
skeleton = NodePath("../..")

[node name="up" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
visible = false
mesh = SubResource("SphereMesh_gl2kt")

[node name="DropOffSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("3_ley4f")
volume_db = -1.586
unit_size = 2.23
max_db = 1.0
pitch_scale = 0.6
max_polyphony = 3
script = ExtResource("4_wo60a")

[node name="PieceDropRock" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("5_gn45x")
volume_db = 16.262
unit_size = 2.23
max_db = 1.0
pitch_scale = 0.8

[node name="PieceDropGas" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("6_0oypa")
volume_db = 4.163
unit_size = 2.23
max_db = 1.0
pitch_scale = 0.8

[connection signal="drop_off_sound" from="." to="DropOffSound" method="_on_planet_piece_drop_off_sound"]
